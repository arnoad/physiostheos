<%# CONTAINER "BANNER-VIDEO" %>

<div class="banner-video" style="background-image: linear-gradient(rgba(0,0,0,0.4),rgba(0,0,0,0.4)), url(https://images.unsplash.com/photo-1648638810931-60d2d55d052e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2940&q=80);">
  <div class="banner-content">
    <%= image_tag image_url("PhysiOsteos_Logo_B.png"), id: "banner-img"%>
    <%# <p><strong>Réservez votre consultation dès maintenant !</strong></p> %>
    <%= link_to "Vers nos services!", "#", class: "btn-flat scroll-button1", style: "text-decoration: none;", data: { target: "target-services-section" } %>
  </div>
</div>

<%# CONTAINER FOR BACKGROUND %>
<div class="background-color-container">

  <%# CONTAINER "NOS SERVICES" %>
  <%= render "pages/services" %>

  <%# CONTAINER "NOTRE EQUIPE" %>
  <%= render "pages/team" %>


  <%# CONTAINER "CONTACT" %>
  <%= render "pages/contact" %>

</div>



<%# JAVASCRIPT %>

<%# SCROLL DOWN BUTTON %>

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script>
    $(document).ready(function() {
          $(".scroll-button1").on("click", function() {
        var targetId = $(this).data("target");
        var targetOffset = $("#" + targetId).offset().top;

        $("html, body").animate(
          {
            scrollTop: targetOffset
          },
          100
        );
      });
      $(".scroll-button2").on("click", function() {
        var targetId = $(this).data("target");
        var targetOffset = $("#" + targetId).offset().top;

        $("html, body").animate(
          {
            scrollTop: targetOffset
          },
          100
        );
      });
      $(".scroll-button3").on("click", function() {
        var targetId = $(this).data("target");
        var targetOffset = $("#" + targetId).offset().top;

        $("html, body").animate(
          {
            scrollTop: targetOffset
          },
          100
        );
      });
    });
  </script>



<%# NAVBAR %>
  <script>
    const navbar = document.querySelector('.navbar-lewagon');
    let prevScrollPos = window.pageYOffset;
    let isScrollingUp = false;

    window.addEventListener('scroll', () => {
        const currentScrollPos = window.pageYOffset;

        if (prevScrollPos > currentScrollPos) {
            // Scrolling up, show the navbar and add the 'opaque' class
            navbar.style.top = '0';
            if (!isScrollingUp) {
                navbar.classList.add('opaque');
                isScrollingUp = true;
            }
        } else {
            // Scrolling down, hide the navbar and remove the 'opaque' class
            navbar.style.top = '-100px'; // You can adjust the value as needed
            isScrollingUp = false;
            navbar.classList.remove('opaque');
        }

        prevScrollPos = currentScrollPos;
    });
  </script>




<%# SHOW MORE FUNCTIONALITY FOR EQUIPE %>
  <%# MEMBER 1 %>
    <script>
      document.addEventListener("DOMContentLoaded", function() {
        // Your JavaScript code here

        // Get references to elements
        const partialText1 = document.getElementById('partialText1');
        const fullText1 = document.getElementById('fullText1');
        const moreButton1 = document.getElementById('moreButton1');
        const popup1 = document.getElementById('popup1');
        const closePopup1 = document.getElementById('closePopup1');

        // Event listener for "more" button
        moreButton1.addEventListener('click', () => {
          fullText1.style.display = 'block';
          popup1.style.display = 'block';
        });

        // Event listener for closing the pop-up
        closePopup1.addEventListener('click', () => {
          fullText1.style.display = 'none';
          popup1.style.display = 'none';
        });
      });
    </script>


  <%# MEMBER 2 %>
    <script>
      document.addEventListener("DOMContentLoaded", function() {
        // Your JavaScript code here

      // Get references to elements
        const partialText2 = document.getElementById('partialText2');
        const fullText2 = document.getElementById('fullText2');
        const moreButton2 = document.getElementById('moreButton2');
        const popup2 = document.getElementById('popup2');
        const closePopup2 = document.getElementById('closePopup2');

        // Event listener for "more" button
        moreButton2.addEventListener('click', () => {
          fullText2.style.display = 'block';
          popup2.style.display = 'block';
        });

        // Event listener for closing the pop-up
        closePopup2.addEventListener('click', () => {
          fullText2.style.display = 'none';
          popup2.style.display = 'none';
        });
      });
    </script>


  <%# MEMBER 3 %>
    <script>
      document.addEventListener("DOMContentLoaded", function() {
        // Your JavaScript code here

      // Get references to elements
        const partialText3 = document.getElementById('partialText3');
        const fullText3 = document.getElementById('fullText3');
        const moreButton3 = document.getElementById('moreButton3');
        const popup3 = document.getElementById('popup3');
        const closePopup3 = document.getElementById('closePopup3');

        // Event listener for "more" button
        moreButton3.addEventListener('click', () => {
          fullText3.style.display = 'block';
          popup3.style.display = 'block';
        });

        // Event listener for closing the pop-up
        closePopup3.addEventListener('click', () => {
          fullText3.style.display = 'none';
          popup3.style.display = 'none';
        });
      });
    </script>


  <%# MEMBER 4 %>
    <script>
      document.addEventListener("DOMContentLoaded", function() {
        // Your JavaScript code here

      // Get references to elements
        const partialText4 = document.getElementById('partialText4');
        const fullText4 = document.getElementById('fullText4');
        const moreButton4 = document.getElementById('moreButton4');
        const popup4 = document.getElementById('popup4');
        const closePopup4 = document.getElementById('closePopup4');

        // Event listener for "more" button
        moreButton4.addEventListener('click', () => {
          fullText4.style.display = 'block';
          popup4.style.display = 'block';
        });

        // Event listener for closing the pop-up
        closePopup4.addEventListener('click', () => {
          fullText4.style.display = 'none';
          popup4.style.display = 'none';
        });
      });
    </script>
  <%# MEMBER 5 %>
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      // Your JavaScript code here

    // Get references to elements
      const partialText5 = document.getElementById('partialText5');
      const fullText5 = document.getElementById('fullText5');
      const moreButton5 = document.getElementById('moreButton5');
      const popup5 = document.getElementById('popup5');
      const closePopup5 = document.getElementById('closePopup5');

      // Event listener for "more" button
      moreButton5.addEventListener('click', () => {
        fullText5.style.display = 'block';
        popup5.style.display = 'block';
      });

      // Event listener for closing the pop-up
      closePopup5.addEventListener('click', () => {
        fullText5.style.display = 'none';
        popup5.style.display = 'none';
      });
    });
  </script>
